/**
 * @file font.c
 * @brief Simple 8x8 bitmap font
 */

#include "../include/types.h"

// Simple 8x8 bitmap font (ASCII 0x20-0x7E)
// Each character is 8 bytes (8 rows, 1 byte per row)
static const uint8_t font_8x8[96][8] = {
    // Space (0x20)
    [0] = {0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00},
    // ! (0x21)
    [1] = {0x18, 0x3C, 0x3C, 0x18, 0x18, 0x00, 0x18, 0x00},
    // " (0x22)
    [2] = {0x36, 0x36, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00},
    // # (0x23)
    [3] = {0x36, 0x7F, 0x36, 0x36, 0x7F, 0x36, 0x00, 0x00},
    // $ (0x24)
    [4] = {0x0C, 0x3E, 0x03, 0x1E, 0x30, 0x1F, 0x0C, 0x00},
    // % (0x25)
    [5] = {0x00, 0x63, 0x33, 0x18, 0xCC, 0xC6, 0x00, 0x00},
    // & (0x26)
    [6] = {0x1C, 0x36, 0x1C, 0x3B, 0x6E, 0x66, 0x3F, 0x00},
    // ' (0x27)
    [7] = {0x06, 0x06, 0x03, 0x00, 0x00, 0x00, 0x00, 0x00},
    // ( (0x28)
    [8] = {0x18, 0x0C, 0x06, 0x06, 0x06, 0x0C, 0x18, 0x00},
    // ) (0x29)
    [9] = {0x06, 0x0C, 0x18, 0x18, 0x18, 0x0C, 0x06, 0x00},
    // * (0x2A)
    [10] = {0x00, 0x66, 0x3C, 0xFF, 0x3C, 0x66, 0x00, 0x00},
    // + (0x2B)
    [11] = {0x00, 0x0C, 0x0C, 0x7F, 0x0C, 0x0C, 0x00, 0x00},
    // , (0x2C)
    [12] = {0x00, 0x00, 0x00, 0x00, 0x0C, 0x06, 0x03, 0x00},
    // - (0x2D)
    [13] = {0x00, 0x00, 0x00, 0x7F, 0x00, 0x00, 0x00, 0x00},
    // . (0x2E)
    [14] = {0x00, 0x00, 0x00, 0x00, 0x00, 0x0C, 0x0C, 0x00},
    // / (0x2F)
    [15] = {0x60, 0x30, 0x18, 0x0C, 0x06, 0x03, 0x01, 0x00},
    // 0 (0x30)
    [16] = {0x3E, 0x63, 0x73, 0x7B, 0x6F, 0x67, 0x63, 0x3E},
    // 1 (0x31)
    [17] = {0x0C, 0x0E, 0x0C, 0x0C, 0x0C, 0x0C, 0x0C, 0x3F},
    // 2 (0x32)
    [18] = {0x1E, 0x33, 0x30, 0x1C, 0x06, 0x33, 0x33, 0x1E},
    // 3 (0x33)
    [19] = {0x1E, 0x33, 0x30, 0x1C, 0x30, 0x33, 0x33, 0x1E},
    // 4 (0x34)
    [20] = {0x38, 0x3C, 0x36, 0x33, 0x7F, 0x30, 0x78, 0x00},
    // 5 (0x35)
    [21] = {0x3F, 0x03, 0x1F, 0x30, 0x30, 0x33, 0x33, 0x1E},
    // 6 (0x36)
    [22] = {0x1C, 0x06, 0x03, 0x1F, 0x33, 0x33, 0x33, 0x1E},
    // 7 (0x37)
    [23] = {0x7F, 0x63, 0x63, 0x60, 0x30, 0x18, 0x0C, 0x0C},
    // 8 (0x38)
    [24] = {0x1E, 0x33, 0x33, 0x1E, 0x33, 0x33, 0x33, 0x1E},
    // 9 (0x39)
    [25] = {0x1E, 0x33, 0x33, 0x33, 0x3E, 0x30, 0x18, 0x0E},
    // : (0x3A)
    [26] = {0x00, 0x0C, 0x0C, 0x00, 0x00, 0x0C, 0x0C, 0x00},
    // ; (0x3B)
    [27] = {0x00, 0x0C, 0x0C, 0x00, 0x00, 0x0C, 0x06, 0x03},
    // < (0x3C)
    [28] = {0x18, 0x0C, 0x06, 0x03, 0x06, 0x0C, 0x18, 0x00},
    // = (0x3D)
    [29] = {0x00, 0x00, 0x7F, 0x00, 0x00, 0x7F, 0x00, 0x00},
    // > (0x3E)
    [30] = {0x06, 0x0C, 0x18, 0x30, 0x18, 0x0C, 0x06, 0x00},
    // ? (0x3F)
    [31] = {0x1E, 0x33, 0x30, 0x18, 0x0C, 0x00, 0x0C, 0x00},
    // @ (0x40)
    [32] = {0x3E, 0x63, 0x7B, 0x7B, 0x7B, 0x03, 0x1E, 0x00},
    // A (0x41)
    [33] = {0x0C, 0x1E, 0x33, 0x33, 0x3F, 0x33, 0x33, 0x00},
    // B (0x42)
    [34] = {0x3F, 0x66, 0x66, 0x3E, 0x66, 0x66, 0x3F, 0x00},
    // C (0x43)
    [35] = {0x3C, 0x66, 0x03, 0x03, 0x03, 0x66, 0x3C, 0x00},
    // D (0x44)
    [36] = {0x1F, 0x36, 0x66, 0x66, 0x66, 0x36, 0x1F, 0x00},
    // E (0x45)
    [37] = {0x7F, 0x06, 0x06, 0x3E, 0x06, 0x06, 0x7F, 0x00},
    // F (0x46)
    [38] = {0x7F, 0x06, 0x06, 0x3E, 0x06, 0x06, 0x06, 0x00},
    // G (0x47)
    [39] = {0x3C, 0x66, 0x03, 0x03, 0x73, 0x66, 0x7C, 0x00},
    // H (0x48)
    [40] = {0x33, 0x33, 0x33, 0x3F, 0x33, 0x33, 0x33, 0x00},
    // I (0x49)
    [41] = {0x1E, 0x0C, 0x0C, 0x0C, 0x0C, 0x0C, 0x1E, 0x00},
    // J (0x4A)
    [42] = {0x78, 0x30, 0x30, 0x30, 0x33, 0x33, 0x1E, 0x00},
    // K (0x4B)
    [43] = {0x67, 0x66, 0x36, 0x1E, 0x36, 0x66, 0x67, 0x00},
    // L (0x4C)
    [44] = {0x06, 0x06, 0x06, 0x06, 0x06, 0x06, 0x7F, 0x00},
    // M (0x4D)
    [45] = {0x63, 0x77, 0x7F, 0x6B, 0x63, 0x63, 0x63, 0x00},
    // N (0x4E)
    [46] = {0x63, 0x67, 0x6F, 0x7B, 0x73, 0x63, 0x63, 0x00},
    // O (0x4F)
    [47] = {0x1C, 0x36, 0x63, 0x63, 0x63, 0x36, 0x1C, 0x00},
    // P (0x50)
    [48] = {0x3F, 0x66, 0x66, 0x3E, 0x06, 0x06, 0x06, 0x00},
    // Q (0x51)
    [49] = {0x1E, 0x33, 0x33, 0x33, 0x3B, 0x1E, 0x38, 0x00},
    // R (0x52)
    [50] = {0x3F, 0x66, 0x66, 0x3E, 0x36, 0x66, 0x67, 0x00},
    // S (0x53)
    [51] = {0x1E, 0x33, 0x07, 0x0E, 0x38, 0x33, 0x1E, 0x00},
    // T (0x54)
    [52] = {0x3F, 0x2D, 0x0C, 0x0C, 0x0C, 0x0C, 0x1E, 0x00},
    // U (0x55)
    [53] = {0x33, 0x33, 0x33, 0x33, 0x33, 0x33, 0x1E, 0x00},
    // V (0x56)
    [54] = {0x33, 0x33, 0x33, 0x33, 0x33, 0x1E, 0x0C, 0x00},
    // W (0x57)
    [55] = {0x63, 0x63, 0x63, 0x6B, 0x7F, 0x77, 0x63, 0x00},
    // X (0x58)
    [56] = {0x63, 0x63, 0x36, 0x1C, 0x1C, 0x36, 0x63, 0x00},
    // Y (0x59)
    [57] = {0x33, 0x33, 0x33, 0x1E, 0x0C, 0x0C, 0x1E, 0x00},
    // Z (0x5A)
    [58] = {0x7F, 0x63, 0x31, 0x18, 0x4C, 0x66, 0x7F, 0x00},
    // [ (0x5B)
    [59] = {0x1E, 0x06, 0x06, 0x06, 0x06, 0x06, 0x1E, 0x00},
    // \ (0x5C)
    [60] = {0x03, 0x06, 0x0C, 0x18, 0x30, 0x60, 0x40, 0x00},
    // ] (0x5D)
    [61] = {0x1E, 0x18, 0x18, 0x18, 0x18, 0x18, 0x1E, 0x00},
    // ^ (0x5E)
    [62] = {0x08, 0x1C, 0x36, 0x63, 0x00, 0x00, 0x00, 0x00},
    // _ (0x5F)
    [63] = {0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0xFF},
    // ` (0x60)
    [64] = {0x0C, 0x0C, 0x18, 0x00, 0x00, 0x00, 0x00, 0x00},
    // a (0x61)
    [65] = {0x00, 0x00, 0x1E, 0x30, 0x3E, 0x33, 0x6E, 0x00},
    // b (0x62)
    [66] = {0x07, 0x06, 0x06, 0x3E, 0x66, 0x66, 0x3B, 0x00},
    // c (0x63)
    [67] = {0x00, 0x00, 0x1E, 0x33, 0x03, 0x33, 0x1E, 0x00},
    // d (0x64)
    [68] = {0x38, 0x30, 0x30, 0x3E, 0x33, 0x33, 0x6E, 0x00},
    // e (0x65)
    [69] = {0x00, 0x00, 0x1E, 0x33, 0x3F, 0x03, 0x1E, 0x00},
    // f (0x66)
    [70] = {0x1C, 0x36, 0x06, 0x1F, 0x06, 0x06, 0x0F, 0x00},
    // g (0x67)
    [71] = {0x00, 0x00, 0x6E, 0x33, 0x33, 0x3E, 0x30, 0x1F},
    // h (0x68)
    [72] = {0x07, 0x06, 0x36, 0x6E, 0x66, 0x66, 0x67, 0x00},
    // i (0x69)
    [73] = {0x0C, 0x00, 0x0E, 0x0C, 0x0C, 0x0C, 0x1E, 0x00},
    // j (0x6A)
    [74] = {0x30, 0x00, 0x30, 0x30, 0x30, 0x33, 0x33, 0x1E},
    // k (0x6B)
    [75] = {0x07, 0x06, 0x66, 0x36, 0x1E, 0x36, 0x67, 0x00},
    // l (0x6C)
    [76] = {0x0E, 0x0C, 0x0C, 0x0C, 0x0C, 0x0C, 0x1E, 0x00},
    // m (0x6D)
    [77] = {0x00, 0x00, 0x33, 0x7F, 0x7F, 0x6B, 0x63, 0x00},
    // n (0x6E)
    [78] = {0x00, 0x00, 0x1F, 0x33, 0x33, 0x33, 0x33, 0x00},
    // o (0x6F)
    [79] = {0x00, 0x00, 0x1E, 0x33, 0x33, 0x33, 0x1E, 0x00},
    // p (0x70)
    [80] = {0x00, 0x00, 0x3B, 0x66, 0x66, 0x3E, 0x06, 0x0F},
    // q (0x71)
    [81] = {0x00, 0x00, 0x6E, 0x33, 0x33, 0x3E, 0x30, 0x78},
    // r (0x72)
    [82] = {0x00, 0x00, 0x3B, 0x6E, 0x66, 0x06, 0x0F, 0x00},
    // s (0x73)
    [83] = {0x00, 0x00, 0x3E, 0x03, 0x1E, 0x30, 0x1F, 0x00},
    // t (0x74)
    [84] = {0x08, 0x0C, 0x3E, 0x0C, 0x0C, 0x2C, 0x18, 0x00},
    // u (0x75)
    [85] = {0x00, 0x00, 0x33, 0x33, 0x33, 0x33, 0x6E, 0x00},
    // v (0x76)
    [86] = {0x00, 0x00, 0x33, 0x33, 0x33, 0x1E, 0x0C, 0x00},
    // w (0x77)
    [87] = {0x00, 0x00, 0x63, 0x6B, 0x7F, 0x7F, 0x36, 0x00},
    // x (0x78)
    [88] = {0x00, 0x00, 0x63, 0x36, 0x1C, 0x36, 0x63, 0x00},
    // y (0x79)
    [89] = {0x00, 0x00, 0x33, 0x33, 0x33, 0x3E, 0x30, 0x1F},
    // z (0x7A)
    [90] = {0x00, 0x00, 0x3F, 0x19, 0x0C, 0x26, 0x3F, 0x00},
    // { (0x7B)
    [91] = {0x38, 0x0C, 0x0C, 0x07, 0x0C, 0x0C, 0x38, 0x00},
    // | (0x7C)
    [92] = {0x18, 0x18, 0x18, 0x18, 0x18, 0x18, 0x18, 0x00},
    // } (0x7D)
    [93] = {0x07, 0x0C, 0x0C, 0x38, 0x0C, 0x0C, 0x07, 0x00},
    // ~ (0x7E)
    [94] = {0x6E, 0x3B, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00},
};

/**
 * Get font glyph for character
 */
const uint8_t* font_get_glyph(char c) {
    if (c < 0x20 || c > 0x7E) {
        return font_8x8[0];  // Return space for invalid characters
    }
    return font_8x8[c - 0x20];
}

